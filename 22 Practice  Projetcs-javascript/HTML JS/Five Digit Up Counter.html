<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: rgb(247, 164, 236);
            /* font-family:sans-serif; */
        }

        .input-container {
            display: flex;
            align-items: center;
            justify-content: space-evenly;
            flex-direction: column;
            height: 40vh;
            width: 90vw;
            margin: 0 auto;
            background: linear-gradient(to bottom right, blueviolet, rgb(228, 10, 46));
            letter-spacing: 15px;
            font-size: 1.5rem;
            color: rgb(12, 228, 145);
            margin-top: 2rem;
        }

        /* .input-container h1{
    margin-bottom: ;
} */
        .input {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 70vw;
            padding: 0 8rem;
            /* border-top:5px solid aqua; */
            height: 20vh;

        }

        input {
            padding: 0.4rem 0.7rem;
            /* color: rgb(4, 8, 245); */
            background-color: rgb(183, 243, 223);
            border: none;
            box-shadow: inset 1px 2px 2px 1px rgb(109, 112, 112);
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
        }

        input:focus {
            outline: none;
        }

        button {
            padding: 0.8rem 1rem;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 40px;
            border: none;
            box-shadow: 1px 2px 20px 1px rgb(19, 233, 205);
        }

        button:active {
            transform: scale(1.001);
        }

        button:hover {
            opacity: 0.9;
            cursor: pointer;
        }

        .display {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: row-reverse;
            width: 70vw;
            margin: 2rem auto;
            /* border-top:5px solid aqua; */
            height: 30vh;
            padding-top: .9vh;
            background: linear-gradient(to bottom right, rgb(42, 85, 228), rgb(190, 46, 219));
            /* position: relative; */
        }

        p {
            text-align: center;
            line-height: 80px;
            height: 100%;
            width: 100%;
            background-color: white;
            border-top: 2px solid black;
            font-size: 5rem;

            /* box-shadow:inset 1px 2px 2px 2px rgb(109, 112, 112); */
        }

        p.next {
            position: absolute;
            top: 100px;
        }

        p.next2 {
            position: absolute;
            top: 100px;
        }

        p.next3 {
            position: absolute;
            top: 100px;
        }

        p.next4 {
            position: absolute;
            top: 100px;
        }

        p.next5 {
            position: absolute;
            top: 100px;
        }

        p.animate {
            transition: all 0.5s;
            top: 0px;
        }
    </style>
</head>

<body>
    <div class="input-container">
        <h1>Enter value from 1 and 99999</h1>
        <div class="input">
            <input type="number" name="number" id="number">
            <button id="button" onclick="startCounter()">Start Counter</button>
        </div>
    </div>

    <div class="display">
        <!-- digit 1 -->
        <div style="background-color: black; height:100px; width: 100px; position: relative; 
        overflow: hidden; margin:.5rem;">
            <p class="current">0</p>
            <p class="next">1</p>
        </div>
        <!-- digit 2 -->
        <div style="background-color: black; height:100px; width: 100px; position: relative; 
        overflow: hidden; margin:.5rem;">
            <p class="current2">0</p>
            <p class="next2">1</p>
        </div>
        <!-- digit 3-->
        <div style="background-color: black; height:100px; width: 100px; position: relative; 
        overflow: hidden; margin:.5rem;">
            <p class="current3">0</p>
            <p class="next3">1</p>
        </div>
        <!-- digit 4 -->
        <div style="background-color: black; height:100px; width: 100px; position: relative; 
        overflow: hidden; margin:.5rem;">
            <p class="current4">0</p>
            <p class="next4">1</p>
        </div>
        <!-- digit 5 -->
        <div style="background-color: black; height:100px; width: 100px; position: relative; 
        overflow: hidden; margin:.5rem;">
            <p class="current5">0</p>
            <p class="next5">1</p>
        </div>

    </div>
    <!-- <script src="script.js"></script> -->
    <script>
        let button = document.getElementById('button');
        // digit 1
        let current = document.querySelector('.current');
        let next = document.querySelector('.next');
        // digit 2
        let current2 = document.querySelector('.current2');
        let next2 = document.querySelector('.next2');
        // digit 3
        let current3 = document.querySelector('.current3');
        let next3 = document.querySelector('.next3');
        // digit 4
        let current4 = document.querySelector('.current4');
        let next4 = document.querySelector('.next4');
        // digit 5
        let current5 = document.querySelector('.current5');
        let next5 = document.querySelector('.next5');

        let count = 0;
        let interval = 0;
        let inputNum = document.getElementById('number');
        let x = 1;
        let start = true;
        let digit2 = 1, total = 1, digit3 = 1, digit4 = 1, digit5 = 1;
        function animate(interval) {

            if (total <= count) {
                if (x > 9) {

                    digit2Counter();
                }

                next.innerHTML = x;
                next.classList.add('animate');

                setTimeout(function () {
                    current.innerHTML = x;
                    next.classList.remove('animate');
                    x++;
                }, 500);
            } else {
                clearInterval(interval);
                return;
            }


            //    console.log("animate");  
            ++total;
            console.log(total);
        }
        function digit2Counter() {
            if (digit2 > 9) {
                digit3Counter();
            }
            console.log('digit2Counter');
            x = 0;
            next2.innerHTML = digit2++;
            next2.classList.add('animate');
            setTimeout(function () {
                current2.innerHTML = next2.innerHTML;
                next2.classList.remove('animate');

            }, 500);
        }

        function digit3Counter() {
            if (digit3 > 9) {
                digit4Counter();
            }
            console.log('digit3Counter');
            x = 0; digit2 = 0;
            next3.innerHTML = digit3++;
            next3.classList.add('animate');
            setTimeout(function () {
                current3.innerHTML = next3.innerHTML;
                next3.classList.remove('animate');

            }, 500);
        }

        function digit4Counter() {
            if (digit4 > 9) {
                digit5Counter();
            }
            console.log('digit4Counter');
            x = 0; digit2 = 0; digit3 = 0;
            next4.innerHTML = digit4++;
            next4.classList.add('animate');
            setTimeout(function () {
                current4.innerHTML = next4.innerHTML;
                next4.classList.remove('animate');

            }, 500);
        }

        function digit5Counter() {
            console.log('digit5Counter');
            x = 0; digit2 = 0; digit3 = 0; digit4 = 0;
            next5.innerHTML = digit5++;
            next5.classList.add('animate');
            setTimeout(function () {
                current5.innerHTML = next5.innerHTML;
                next5.classList.remove('animate');

            }, 500);
        }



        function startCounter() {
            count = parseInt(inputNum.value);

            if ((count >= 1 && count <= 99999) && start === true) {
                start = false; x = 1; total = 1;
                interval = setInterval(animate, 700);
            } else {
                next.innerHTML = 1;
                x = 1; total = 1; digit2 = 1; digit3 = 1; digit4 = 1; digit5 = 1;
                current2.innerHTML = 0;
                next2.innerHTML = 0;
                next2.classList.remove('animate');
                current3.innerHTML = 0;
                next3.innerHTML = 0;
                next3.classList.remove('animate');

                current4.innerHTML = 0;
                next4.innerHTML = 0;
                next4.classList.remove('animate');

                current5.innerHTML = 0;
                next5.innerHTML = 0;
                next5.classList.remove('animate');
            }

        }
    </script>
</body>

</html>